<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Security-Policy" content="
    default-src * data: blob: ws: wss: gap://ready file://*;
    style-src * 'unsafe-inline'; 
    script-src * 'unsafe-inline' 'unsafe-eval';
    connect-src * ws: wss:;" />
    <title>Reaching Experiment</title>

    <link rel="stylesheet" href="static/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="static/style.css" type="text/css" />

    <!-- update the version number as needed -->
    <script src="./__/firebase/6.6.1/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script src="./__/firebase/6.6.1/firebase-auth.js"></script>
    <script src="./__/firebase/6.6.1/firebase-database.js"></script>
    <script src="./__/firebase/6.6.1/firebase-firestore.js"></script>
    <script src="./__/firebase/6.6.1/firebase-messaging.js"></script>
    <script src="./__/firebase/6.6.1/firebase-storage.js"></script>
    <!-- initialize the SDK after all desired features are loaded -->
    <script src="./__/firebase/init.js"></script>
    
    <!-- <style media="screen">
      body { background: #ECEFF1; color: rgba(0,0,0,0.87); font-family: Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 0; }
      #message { background: white; max-width: 360px; margin: 100px auto 16px; padding: 32px 24px; border-radius: 3px; }
      #message h2 { color: #ffa100; font-weight: bold; font-size: 16px; margin: 0 0 8px; }
      #message h1 { font-size: 22px; font-weight: 300; color: rgba(0,0,0,0.6); margin: 0 0 16px;}
      #message p { line-height: 140%; margin: 16px 0 24px; font-size: 14px; }
      #message a { display: block; text-align: center; background: #039be5; text-transform: uppercase; text-decoration: none; color: white; padding: 16px; border-radius: 4px; }
      #message, #message a { box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); }
      #load { color: rgba(0,0,0,0.4); text-align: center; font-size: 13px; }
      @media (max-width: 600px) {
        body, #message { margin-top: 0; background: white; box-shadow: none; }
        body { border-top: 16px solid #ffa100; }
      }
    -->

    <style>
      .bodytext{padding: 10px;
        max-width: 1000px;
        margin: 0 auto;
        margin-top: 30px;
        font-family: Verdana}
      .consent{background-color: rgb(245, 245, 245);
        padding: 30px;
        border: 1.5px solid black;
        border-radius: 20px;
        max-width: 800px;
        margin: 0 auto;
        margin-top: 30px;
        font-family: Verdana;
        line-height: 1.5}
      .pillbuttonLeft {
        border: 2px solid black;
        color: black;
        padding: 8px 15px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16pt;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 30px;
        box-shadow: 
          0 2px 4px #fff, /*bottom external highlight*/
          0 -1px 1px #666, /*top external shadow*/ 
          inset 0 -2px 2px rgba(0,0,0,0.5), /*bottom internal shadow*/ 
          inset 0 2px 2px rgba(255,255,255,0.8); /*top internal highlight*/;
        float:left}
      .pillbuttonRight {
        border: 2px solid black;
        color: black;
        padding: 8px 15px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16pt;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 30px;
        box-shadow: 
          0 2px 4px #fff, /*bottom external highlight*/
          0 -1px 1px #666, /*top external shadow*/ 
          inset 0 -2px 2px rgba(0,0,0,0.5), /*bottom internal shadow*/ 
          inset 0 2px 2px rgba(255,255,255,0.8); /*top internal highlight*/;
        float:right}
      hr.class-1 { 
        border-top: 2px solid #000000; 
        } 
    </style>

  <!--</head>
  <body>
   <main class="container">
     <!-- Consent Page-->
    <div id="container-consent">
      <div id="consent" class="bodytext">
          <h1><b><i>Welcome</i></b></h1>
          <h3>Please read the following terms and decide whether you would like to participate in this experiment:</h2> 
          
          <div class="consent">
              <p><b>Title of Research: </b> Mechanical Turk Studies of Learning<br>
                <b>Principal Investigator: </b> Jordan A. Taylor, PhD<br>                
                <b>Principal Investigator's Department: </b> Psychology<br>
                <br>
                You are being invited to take part in a research study. Before you decide to participate in this study, it is important that you understand why the research is being done and what it will involve. Please take the time to read the following information carefully. Please ask the researcher if there is anything that is not clear or if you need more information.<br>
                <br>
                <b><u>Purpose of the Research:</u></b> <br>
                You are being invited to participate in a study of motor and cognitive processes conducted in the Intelligent Performance and Adaptation Laboratory, directed by Professor Jordan Taylor, in the Department of Psychology at Princeton University. The research deals with how people acquire and produce certain motor skills and how visual and auditory information are used to guide actions.<br>
                <br>
                <b><u>Study Procedures:</u></b> <br>
                You will be asked to respond to images on a screen using your keyboard and/or mouse. If you decide to participate in this project, please understand that your participation is voluntary and you have the right to withdraw your consent or discontinue participation at any time. <br>
                Your total expected time commitment for this study may vary, but is at maximum one hour. <br>
                <br>
                <b><u>Benefits and Risks:</u></b> <br>
                It is important that you understand that there is no direct benefit to you anticipated from your participation in this study.<br>
                There is a slight chance you may feel frustrated or uncomfortable if the task is difficult for you to do, but you are free to discontinue your participation in the study if you choose. Please let us know if you feel fatigued or uncomfortable at any time during the experiment.<br>
                <br>
                <b><u>Alternatives:</u></b> <br>
                The alternative to participating in this particular study is to not participate.<br>
                <br>
                <b><u>Confidentiality:</u></b> <br>
                All records from this study will be kept confidential. Your responses will be kept private, and we will not include any information that will make it possible to identify you in any report we might publish. Research records will be stored securely in a locked cabinet and/or on password-protected computers. The research team will be the only party that will have access to your data.<br>
                <br>
                <b><u>Compensation:</u></b> <br>
                You will be paid an honorarium for participation at a rate of $3 per hour.<br>
                <br>
                <b><u>Who to contact with questions:</u></b>
              </p>
              <p style="margin-left: 40px">1. PRINCIPAL INVESTIGATOR</p>
              <p style="margin-left: 80px">Jordan Taylor, PhD<br>429 Peretsman-Scully Hall<br>office: (609) 258-4648<br>email: jordanat@princeton.edu</p>
              <p style="margin-left: 40px">2. If you have questions regarding your rights as a research subject, or if problems arise which you do not feel you can discuss with the Investigator, please contact the Institutional Review Board at:</p>
              <p style="margin-left: 80px">Assistant Director, Research Integrity and Assurance<br>Phone: (609) 258-8543<br>Email: irb@princeton.edu</p>
              <p><b>By clicking the "I Agree" button below, I affirm that I understand the information that was presented and that:</b></p>
              <p style="margin-left: 40px">1. My participation is voluntary, and I may withdraw my consent and discontinue participation in the project at any time.  My refusal to participate will not result in any penalty.</p>
              <p style="margin-left: 40px">2. I do not waive any legal rights or release Princeton University, its agents, or you from liability for negligence.</p>
            </br>
            <button type="button" class="pillbuttonLeft" onClick="return show('decline-expt', 'container-consent');">
              I do <u><b>NOT</b></u> consent to these terms.
            </button>
            <button type="button" class="pillbuttonRight" onClick="window.scrollTo(0,0);return show('container-instructions1', 'container-consent');">
              I Agree 
            </button>
            </br></br>
          </div>
          
      </div>
    </div>
     
    <!-- Instruction Page 1-->
    <div id="container-instructions1" style="display:none" class="bodytext">
      <a href="#container-instructions1"></a>
        <h1><b>Online Experiment: Aim For The Target!</b></h1>
        <hr class="class-1"/>
        <p>
           You will be controlling a blue dot with your trackpad. The blue dot will sometimes be visible, and other times hidden. Even when you don't see the blue dot, the game will always be tracking its position.
        </p>
        <p> 
          For this experiment, please use a <b>computer mouse</b> or <b>trackpad</b> to complete the task. Below is a video clip of an example participant completing the task using a trackpad.
        </p>
        <div class="row">
                <!--
                <div class="columnA">
                    <video controls autoplay loop muted src="" alt="User demonstration with mouse" style="width:100%"></video>
                </div>
                -->
                
          <div>
            <center>
              <video controls autoplay loop muted src="images/demo.MOV" alt="User demonstration with trackpad" style="width:100%"></video>
            </center>
          </div>
        </div>
        <p>
          <b><em>NOTE:</em></b> There are attention checks, so be sure to read their instructions thoroughly! Failing these checks will result in an incomplete HIT!
        </p>
      <hr class="class-1"/>
      <center>
            <button type="button" class="pillbuttonLeft" onClick="window.scrollTo(0,0);return show('container-consent', 'container-instructions1');">
            <span class="glyphicon glyphicon-arrow-left"></span> Back 
            </button>
            <button type="button" class="pillbuttonRight" onClick="window.scrollTo(0,0);return show('container-instructions2', 'container-instructions1');">
            Next <span class="glyphicon glyphicon-arrow-right"></span>
            </button>
        </center>
    </div>
    
    <!-- Instruction Page 2
        **TODO** Update the code in the instructions if necessary-->
    <div id="container-instructions2" style="display:none" class="bodytext">
      <h1><b>Instructions:</b></h1>
      <hr class="class-1"/>

            <p>
                There are two simple steps:
            </p>
            <p style="margin-left: 40px">
                1. Bring the blue dot to the center of your screen. The blue dot will initially be hidden, but it will be displayed once you get within a certain distance from the center.
            </p>
            <p style="margin-left: 40px">
                2. Once the orange dot (your target) appears, slice through it <em>FAST</em> with the blue dot (visible or hidden).
            </p>
            <p>
                <b>PLEASE READ:</b> After several trials, the blue dot will stop following the direction of your movements, and instead move on its own. When this happens, <b><em>ignore</em></b> the blue dot and continue moving <b>directly</b> to the target. 
                Throughout the entire experiment, you should be moving the mouse <em>DIRECTLY</em> to the target. [Type "mouse" on the next page to indicate that you have read this].
            </p>
            <br>
            <div class="row">
                <center>
                    <div class="columnB2">
                        <video controls autoplay loop muted src="images/finding_center.mov" alt="Game image" style="width:100%"></video>
                    </div>
                </center>
            </div>
          <script type="text/javascript">
          //console.log(psiTurk.getInstructionIndicator())
          </script>
      
      <hr class="class-1"/>
      <center>
            <button type="button" class="pillbuttonLeft" onClick="window.scrollTo(0,0);return show('container-instructions1', 'container-instructions2');">
            <span class="glyphicon glyphicon-arrow-left"></span> Back 
            </button>
            <button type="button" class="pillbuttonRight" onClick="window.scrollTo(0,0);return show('container-info', 'container-instructions2'); window.scrollTo(0,0);">
            Next <span class="glyphicon glyphicon-arrow-right"></span>
            </button>
        </center>
    </div>

    <!-- Initial Form for basic information 
    **TODO** Update questions accordingly to what kinds of information you require-->
    <div id="container-info" style="display:none">
      <!-- CHANGE INDEX.JS CHECKINFO() IF MODIFIED -->
      <h1>Basic Information</h1>
      <hr>

      <form id='infoform'>
          <div class="row question">

              <div class="questions" id="email">
                  MTURK WorkerID: 
                  <input id="email-input" type="text" name="email" value="">
              </div>
                  
              <div class="questions" id="age">
                Age: 
                  <input id="age" type="text" name="age" value="">
                </div>

              <div class="questions" id="sex">
                  Gender: 
                  <select id="gender" name="gender">
                      <option value=""></option>
                      <option value="male">Male</option>
                      <option value="female">Female</option>
                      <option value="other">Genderqueer/Non-Binary</option>
                  </select>
              </div>

              <div class="questions" id="handedness">
                    Right or left handed: 
                <select id="hand" name="hand">
                    <option value=""></option>
                    <option value="righth">Right</option>
                    <option value="lefth">Left</option>
                    <option value="bothh">Ambidextrous</option>
                </select>
              </div>

            <div class="questions" id="mouseQ">
                What kind of mouse are you using? (Please only use trackpads): 
                <select id="mousetype" name="mousetype">
                    <option value="">
                    <option value="optical">Optical mouse (standard mouse)</option>
                    <option value="trackpad">Trackpad mouse</option>
                    <option value="trackball">Trackball mouse</option>
                    <option value="touchscreen">Touchscreen (tablet)</option>
                </select>
            </div>

            <div class="questions" id="monitorQ">
                What kind of screen are you using to view this browser window? (Please sit directly in front of the screen): 
                <select id="mousetype" name="mousetype">
                    <option value="">
                    <option value="monitor">Standalone monitor</option>
                    <option value="laptop">Laptop screen</option>
                    <option value="tablet">Tablet</option>
                </select>
            </div>

            <div class="questions" id="returner">
                Have you done our experiments before? 
                <select id="repeat" name="repeater">
                    <option value=""></option>
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                    <option value="idk">I don't remember</option>
                </select>
            </div>

            <div class="questions" id="startcode">
                What's the code from the last page (Reread the instructions page if you don't know): 
                <input id="age" type="text" name="age" value="">
            </div>

            <hr>

            <p>
                The following information is requested by the National Institute of Health. You are not <em>required</em>, but are encouraged to complete these.
            </p>
            
            <div class="questions" id="ethnicity">
                Ethnic Origin:  
                <select id="ethnic" name="ethnic">
                    <option value="">
                    <option value="hispanic">Hispanic or Latino</option>
                    <option value="non-hispanic">Not Hispanic or Latino</option>
                </select>
            </div>

            <div class="questions" id="racial origin">
                Racial Origin:  
                <select id="race" name="race">
                    <option value="">
                    <option value="indian/native">American Indian or Alaskan Native</option>
                    <option value="asian">Asian</option>
                    <option value="african-american">Black or African American</option>
                    <option value="pacific-islander">Native Hawaiian or Other Pacific Islander</option>
                    <option value="white">White or Caucasian</option>
                    <option value="multiple">More than one race</option>
                    <option value="unkown">Unknown</option>
                </select>
            </div>

          </div>
        </form>
        <hr>
        <center>
            <!-- <h1><b><em>Please enter fullscreen mode before you begin.</em></b></h1> //only for safari
            <hr> -->
            <button type="button" id="back" value="back" class="btn btn-primary btn-lg previous" onClick="window.scrollTo(0,0);show('container-instructions2', 'container-info');">
                <span class="glyphicon glyphicon-arrow-left"></span> Back 
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button type="button" id="begin" value="next" class="btn btn-primary btn-lg continue" onClick="checkInfo();">
                Begin Experiment <span class="glyphicon glyphicon-arrow-right"></span>
            </button>
        </center>
    </div>

    <!-- Game page -->
    <div id="container-exp" style="display:none">
    </div>

    <!-- Thank you page 
        **TODO** Update the completion code if necessary-->
    <div id="container-not-an-ad" style="display:none">
            <div class="media-left pull-left" href="#">
                    <!-- REPLACE THE LOGO HERE WITH YOUR  UNIVERSITY, LAB, or COMPANY -->
                    <img id="adlogo" src="images/university.png" alt="Lab Logo" />
        </div>
        <div class="media-body">
            <h1>Thanks for your participation!</h1>
            <hr />

            <h2>Now just one more question and you're done!</h2>
            
            <form id="feedbackForm">
                <!-- This question is currently not employed.
                <div class="question" id="contact">
                    When the white dot was not under your control, did it touch the target?
                    <select id="contactq" name="contact">
                        <option value="">
                        <option value="yes">Yes, the white dot hit/touched the target</option>
                        <option value="no">No, the white dot never came in contact with the target</option>
                    </select>
                </div>
                -->

                <div class="question" id="feedback">
                    Let us know if you had any issues with this experiment! 
                    <input id="feedback" type="text" name="feedback" value="">
                </div>
            </form>
            <center>
                <!-- <h1><b><em>Please enter fullscreen mode before you begin.</em></b></h1> //only for safari
                <hr> -->
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <button type="button" id="end" value="final" onClick="saveFeedback();">
                    Submit 
                </button>
            </center>
            <h2>If you do not receive compensation in 5 business days please email kim.olivia.a@gmail.com.</h2>
            <h2>Your completion code is: <span id="ccd"></span> </h2>
            <h2>You have a wonderful life now.</h2>
        </div>
    </div>

    <!-- Ended early page -->
    <div id="container-failed" style="display:none">
        <div class="media-left pull-left" href="#">
                <!-- **TODO** REPLACE THE LOGO HERE WITH YOUR  UNIVERSITY, LAB, or COMPANY -->
                <img id="adlogo" src="images/university.png" alt="Lab Logo" />
        </div>
        <div class="media-body">
                    <h1>Oh no!</h1>
                    <hr />
                    <p>If you are seeing this page it means you did not pass an attention or understanding test.</p>
                    <p>This task requires your full attention, thus we kindly ask you to exit and restart this HIT.</p>
                    <p>You can also refresh the page to restart this experiment.</p>
                    <p>We're sorry for this inconvenience.</p>
                    <!--
                    <h2>You have a wonderful life now.</h2>
                    -->
        </div>
    </div>

    <!-- Final Page -->
    <div id="final-page" style="display:none">
        <div class="media-left pull-left" href="#">
                <!-- **TODO** REPLACE THE LOGO HERE WITH YOUR  UNIVERSITY, LAB, or COMPANY -->
                <img id="adlogo" src="images/university.png" alt="Lab Logo" />
        </div>
        <div class="media-body">
                    <h1>Your responses have been saved, thank you!</h1>
                    <hr />

                    <h2>If you do not receive compensation in 5 business days please email kim.olivia.a@gmail.com.</h2>
                    <h2>Your completion code is: <span id="ccd"></span> </h2>
        </div>
    </div>

    <!-- Person did not consent -->
    <div id="decline-expt" style="display:none">
        <div class="bodytext">
                    <h1>You did not consent to participate in the experiment.</h1>
                    <hr />
                    <p>Thank you for reading the consent form and considering your rights as a reasearch participant.</p>
                    <p>This HIT has been aborted.</p>
                    <p>If you have terminated the experiment in error, you may refresh this page to revisit the consent form.</p>
        </div>
    </div>
   </main>
  </body>

  <script src="static/lib/jquery-min.js"></script>
  <script src="static/lib/bootstrap.min.js"></script>
  <script src="static/lib/d3.v3.min.js"></script>
  <script src="static/lib/underscore-min.js"></script>
  <script src="static/lib/backbone-min.js"></script>
  <script src="index.js"></script>
  <script src="game.js"></script>

  
  <!-- Just to test out forms as of now 
        TODO: Delete when using server are ready -->
  <script>
    // function show(shown, hidden) {
    //   document.getElementById(shown).style.display='block';
    //   document.getElementById(hidden).style.display='none';
    //   return false;
    // }
  </script>

  <script>
    // function onexit() {
    //  window.close(); // no harm, no foul here
    // }
  </script>


  </html>
